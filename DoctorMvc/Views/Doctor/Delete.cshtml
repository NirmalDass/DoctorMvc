@model DoctorMvc.Models.Doctor

@{
    ViewData["Title"] = "Delete";
}
@Html.HiddenFor(m => m.DoctorId)

<h1>Delete</h1>

<h3>Are you sure you want to delete this?</h3>
<div>
    <h4>Doctor</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.DoctorId)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.DoctorId)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Gender)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Gender)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Qualification)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Qualification)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Dept_Id)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Dept_Id)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MobileNo)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MobileNo)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.AvailableDays)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.AvailableDays)
        </dd>
    </dl>

    <form>
        <input type="submit" value="Delete" class="btn btn-danger" id="dltBtn" /> |
        <a asp-action="Index">Back to List</a>
    </form>
</div>

@section Scripts {
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        var BaseUrl = "https://localhost:44374/";
        var Id=@Html.DisplayFor(model => model.DoctorId);
      $("#dltBtn").click(function Delete(){
                $.ajax({
                    type:'DELETE',
                    url:BaseUrl+'api/Doctor/'+Id,
                    datatype: 'json',
                    contentType: 'application/json',
                    data:JSON.stringify(),
                    success: function(){
                        alert("Doctor Deleted Successfully");
                        window.location = "https://localhost:44309/Doctor";
                    },
                    error: function(){
                        alert("Error in deleting data");
                    }
                });
            });
      });
</script>
@{
    <partial name="_ValidationScriptsPartial" />
}
}
